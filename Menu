#!/bin/bash

clear
GROUPNAME=nogroup
VERSION_ID=$(cat /etc/os-release | grep "VERSION_ID")
CHECKSYSTEM=$(tail -n +2 /etc/openvpn/server.conf | grep "^username-as-common-name")
# IP=$(ip addr | grep 'inet' | grep -v inet6 | grep -vE '127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' | grep -o -E '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' | head -1)
# if [[ "$IP" = "" ]]; thenN
IP=$(wget -4qO- "http://whatismyip.akamai.com/")
#

# Color
GRAY='\033[1;33m'
GREEN='\033[0;32m'
NC='\033[0m'
YELLOW='\033[33;1m'
# Functions
z1='\e[31;1m'  #red
z2='\e[34;1m'  #blue
z3='\e[32;1m'  #green
z4='\e[35;1m'  #magenta
z5='\e[36;1m'  #cyan
z6='\e[33;1m'  #yellow
z7='\e[0m'

ok() {
    echo -e '\e[32m'$1'\e[m';
}

die() {
    echo -e '\e[1;35m'$1'\e[m';
}
red() {
    echo -e '\e[1;31m'$1'\e[m';
}

des() {
    echo -e '\e[1;31m'$1'\e[m'; exit 1;
}


# ads
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo -e "MENU SCRIPT ${GRAY}MyGatherBK-VPN${NC}"
	echo ""
	echo -e "|${GRAY} 1${NC}| เพิ่มชื่อผู้ใช้งาน OpenVPN (Config)"
	echo -e "|${GRAY} 2${NC}| เพิ่มชื่อผู้ใช้งาน  SSH (HTTP) VPN (OPENVPN)"
if [[ "$VERSION_ID" = 'VERSION_ID="7"' || "$VERSION_ID" = 'VERSION_ID="8"' || "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
		if [[ ! -e /etc/squid3/squid.conf ]]; then
			echo -e "|${GRAY} 3${NC}| ติดตั้ง SQUID PROXY "
		elif [[ -e /etc/squid3/squid.conf ]]; then
			echo -e "|${GRAY} 3${NC}| ถอนการติดตั้ง SQUID PROXY "
		fi

	elif [[ "$VERSION_ID" = 'VERSION_ID="9"' || "$VERSION_ID" = 'VERSION_ID="16.04"' || "$VERSION_ID" = 'VERSION_ID="18.04"' ]]; then
		if [[ ! -e /etc/squid/squid.conf ]]; then
			echo -e "|${GRAY} 3${NC}| ติดตั้ง SQUID PROXY "
		elif [[ -e /etc/squid/squid.conf ]]; then
			echo -e "|${GRAY} 3${NC}| ถอนการติดตั้ง SQUID PROXY "
		fi
	fi
	echo -e "|${GRAY} 4${NC}| ปิดเปิดใช้งาน Openvpn เชื่อมได้ไม่จำกัดเครื่อง "
	echo -e "|${GRAY} 6${NC}| ตรวจสอบบัญชีผู้ใช้ SSH ทั้งหมด "
	echo -e "|${GRAY} 7${NC}| Delete บัญชีผู้ใช้ SSH "
	echo -e "|${GRAY} 8${NC}| Delete บัญชีผู้ใช้ OPENVPN "
	echo -e "|${GRAY}11${NC}| ตรวจสอบแบนด์วิดท์ต่อบัญชี "
	echo -e "|${GRAY}12${NC}| เปลี่ยนรหัสผ่านบัญชีผู้ใช้ "
	echo -e "|${GRAY}13${NC}| เปลี่ยนวันหมดอายุบัญชีผู้ใช้ "
	echo -e "|${GRAY}16${NC}| แบนและปลดแบนบัญชีผู้ใช้"
	echo -e "\033[33;1m-------------------------------------------------------" 
	echo -e "\033[0;32m|||||||||||||||| VPS MANAGER |||||||||||||||||" 
	echo -e "\033[33;1m-------------------------------------------------------" 
	echo -e "|${GRAY} 9${NC}| User Root TO Pass เปลื่ยนรหัสผ่านเซิฟร์เวอร์ "
	echo -e "|${GRAY} 5${NC}| เปิด-ปิด-รีสตาร์ท การทำงานของระบบ "
	echo -e "|${GRAY}14${NC}| ตรวจสอบแบนด์วิดท์ "
	echo -e "|${GRAY}10${NC}| ตั้งค่าเวลารีบูทเซิฟเวอร์อัตโนมัติ "	
	echo -e "|${GRAY}15${NC}| ปรับความเร็วอินเตอร์เน็ต"
	echo -e "\033[33;1m-------------------------------------------------------" 
	echo -e "\033[0;32m|||||||||||||||| REMOVE OPENVPN SCRIPT |||||||||||||||||" 
        echo -e "\033[33;1m-------------------------------------------------------" 
        echo -e "|${GRAY} 17${NC}| ถอนการติดตั้ง OPENVPN  ${GREEN} ✔   ${NC}"
	echo ""
	read -p "เลือกหัวข้อเมนูที่ต้องการใช้งาน : " MENU
        echo ""
case $MENU in
1) # ==================================================================================================================
	
# ads
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
if [[ $CHECKSYSTEM ]]; then
	echo ""
	read -p "ชื่อบัญชีที่ต้องการสร้าง : " -e CLIENT

	if [ $? -eq 0 ]; then
		read -p "รหัสผ่าน : " -e PASSWORD
		echo ""
		echo -e "     ${GRAY}ระบุตัวเลข 30 จะทำให้บัญชีที่สร้างใช้งานไม่ได้ในอีก 30 วัน${NC}"
		read -p "กำหนดวันหมดอายุ : " -e TimeActive

		PROXY=$(grep '^http_port ' /etc/squid/squid.conf | cut -d " " -f 2)
		PROXY=$(grep '^http_port ' /etc/squid3/squid.conf | cut -d " " -f 2)
		useradd -e `date -d "$TimeActive days" +"%Y-%m-%d"` -s /bin/false -M $CLIENT
		EXP="$(chage -l $CLIENT | grep "Account expires" | awk -F": " '{print $2}')"
		echo -e "$PASSWORD\n$PASSWORD\n"|passwd $CLIENT &> /dev/null

		clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
		echo "ชื่อบัญชี : $CLIENT"
		echo "รหัสผ่าน : $PASSWORD"
		echo "หมดอายุในวันที่ : $EXP"
		echo ""
		echo "IP : $IP"
		echo "Port : 22,80,143"
		echo "Proxy Port : $PROXY"
		exit
	else
		echo ""
		echo "ชื่อบัญชีที่ระบุอยู่ในระบบแล้ว"
		echo ""
		read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

		if [[ "$TOMENU" = 'Y' ]]; then
			menu
			exit
		elif [[ "$TOMENU" = 'N' ]]; then
			exit
		fi
	fi

else

	echo ""
	read -p "ชื่อบัญชีที่ต้องการสร้าง : " -e CLIENT

	if [[ -e /etc/openvpn/easy-rsa/pki/private/$CLIENT.key ]]; then
		echo ""
		echo "ชื่อบัญชีที่ระบุอยู่ในระบบแล้ว"
		echo ""
		read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

		if [[ "$TOMENU" = 'Y' ]]; then
			menu
			exit
		elif [[ "$TOMENU" = 'N' ]]; then
			exit
		fi
	fi

	echo ""
	echo -e "     ${GRAY}ระบุตัวเลข 30 จะทำให้บัญชีที่สร้างใช้งานไม่ได้ในอีก 30 วัน${NC}"
	read -p "กำหนดวันหมดอายุ : " -e TimeActive

newclient () {
	# Generates the custom client.ovpn
	cp /etc/openvpn/client-common.txt ~/$1.ovpn
	echo "<ca>" >> ~/$1.ovpn
	cat /etc/openvpn/easy-rsa/pki/ca.crt >> ~/$1.ovpn
	echo "</ca>" >> ~/$1.ovpn
	echo "<cert>" >> ~/$1.ovpn
	sed -ne '/BEGIN CERTIFICATE/,$ p' /etc/openvpn/easy-rsa/pki/issued/$1.crt >> ~/$1.ovpn
	echo "</cert>" >> ~/$1.ovpn
	echo "<key>" >> ~/$1.ovpn
	cat /etc/openvpn/easy-rsa/pki/private/$1.key >> ~/$1.ovpn
	echo "</key>" >> ~/$1.ovpn
	echo "<tls-auth>" >> ~/$1.ovpn
	sed -ne '/BEGIN OpenVPN Static key/,$ p' /etc/openvpn/ta.key >> ~/$1.ovpn
	echo "</tls-auth>" >> ~/$1.ovpn
}

	RANDOMFOLDER=$(cat /dev/urandom | tr -dc 'a-zA-Z' | fold -w 4 | head -n 1)
	mkdir /home/vps/public_html/$RANDOMFOLDER
	cd /etc/openvpn/easy-rsa/
	./easyrsa build-client-full $CLIENT nopass
	newclient "$CLIENT"
	cp /root/$CLIENT.ovpn /home/vps/public_html/$RANDOMFOLDER/$CLIENT.ovpn
	rm -f /root/$CLIENT.ovpn
	useradd -e `date -d "$TimeActive days" +"%Y-%m-%d"` -s /bin/false -M $CLIENT
	EXP="$(chage -l $CLIENT | grep "Account expires" | awk -F": " '{print $2}')"
	echo -e "$CLIENT\n$CLIENT\n"|passwd $CLIENT &> /dev/null

	clear
# ads
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo "ชื่อบัญชี : $CLIENT"
	echo "หมดอายุในวันที่ : $EXP"
	echo ""
	echo "ดาวน์โหลดคอนฟิก : http://$IP:85/$RANDOMFOLDER/$CLIENT.ovpn"
	echo ""
	exit

fi

	;;
	
2) # ==================================================================================================================

	echo ""
	read -p "ชื่อบัญชีที่ต้องการสร้าง : " -e CLIENT

	if [ $? -eq 0 ]; then
		read -p "รหัสผ่าน : " -e PASSWORD
		echo ""
		echo -e "     ${GRAY}ระบุตัวเลข 30 จะทำให้บัญชีที่สร้างใช้งานไม่ได้ในอีก 30 วัน${NC}"
		read -p "กำหนดวันหมดอายุ : " -e TimeActive

		PROXY=$(grep '^http_port ' /etc/squid/squid.conf | cut -d " " -f 2)
		PROXY=$(grep '^http_port ' /etc/squid3/squid.conf | cut -d " " -f 2)
		useradd -e `date -d "$TimeActive days" +"%Y-%m-%d"` -s /bin/false -M $CLIENT
		EXP="$(chage -l $CLIENT | grep "Account expires" | awk -F": " '{print $2}')"
		echo -e "$PASSWORD\n$PASSWORD\n"|passwd $CLIENT &> /dev/null

		clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
		echo "ชื่อบัญชี : $CLIENT"
		echo "รหัสผ่าน : $PASSWORD"
		echo "หมดอายุในวันที่ : $EXP"
		echo ""
		echo "IP : $IP"
		echo "Port : 22,80,143"
		echo "Proxy Port : $PROXY"
		exit
	else
		echo ""
		echo "ชื่อบัญชีที่ระบุอยู่ในระบบแล้ว"
		echo ""
		read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

		if [[ "$TOMENU" = 'Y' ]]; then
			menu
			exit
		elif [[ "$TOMENU" = 'N' ]]; then
			exit
		fi
	fi

	;;

3) # =================================================================================================================
	
if [[ -e /etc/squid3/squid.conf ]]; then
	apt-get -y remove --purge squid3
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo "Squid Proxy .....Removed."
	exit
elif [[ -e /etc/squid/squid.conf ]]; then
	apt-get -y remove --purge squid
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo "Squid Proxy .....Removed."
	exit
fi

read -p "Port Proxy : " -e -i 8080 PROXY

if [[ "$VERSION_ID" = 'VERSION_ID="7"' || "$VERSION_ID" = 'VERSION_ID="8"' || "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
	apt-get -y install squid3
	cat > /etc/squid3/squid.conf <<END
http_port $PROXY
acl localhost src 127.0.0.1/32 ::1
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1
acl localnet src 10.0.0.0/8
acl localnet src 172.16.0.0/12
acl localnet src 192.168.0.0/16
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 21
acl Safe_ports port 443
acl Safe_ports port 70
acl Safe_ports port 210
acl Safe_ports port 1025-65535
acl Safe_ports port 280
acl Safe_ports port 488
acl Safe_ports port 591
acl Safe_ports port 777
acl CONNECT method CONNECT
acl SSH dst xxxxxxxxx-xxxxxxxxx/255.255.255.255
http_access allow SSH
http_access allow localnet
http_access allow localhost
http_access deny all
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
END
	IP2="s/xxxxxxxxx/$IP/g";
	sed -i $IP2 /etc/squid3/squid.conf;
	if [[ "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
		service squid3 restart
	else
		/etc/init.d/squid3 restart
	fi
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo "Squid Proxy .....Install finish."
	echo "IP Proxy : $IP"
	echo "Port Proxy : $PROXY"
	echo ""
	exit

elif [[ "$VERSION_ID" = 'VERSION_ID="9"' || "$VERSION_ID" = 'VERSION_ID="16.04"' || "$VERSION_ID" = 'VERSION_ID="18.04"' ]]; then
	apt-get -y install squid
	cat > /etc/squid/squid.conf <<END
http_port $PROXY
acl localhost src 127.0.0.1/32 ::1
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1
acl localnet src 10.0.0.0/8
acl localnet src 172.16.0.0/12
acl localnet src 192.168.0.0/16
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 21
acl Safe_ports port 443
acl Safe_ports port 70
acl Safe_ports port 210
acl Safe_ports port 1025-65535
acl Safe_ports port 280
acl Safe_ports port 488
acl Safe_ports port 591
acl Safe_ports port 777
acl CONNECT method CONNECT
acl SSH dst xxxxxxxxx-xxxxxxxxx/255.255.255.255
http_access allow SSH
http_access allow localnet
http_access allow localhost
http_access deny all
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
END
	IP2="s/xxxxxxxxx/$IP/g";
	sed -i $IP2 /etc/squid/squid.conf;
	/etc/init.d/squid restart
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo ""
	echo "Squid Proxy .....Install finish."
	echo "IP Proxy : $IP"
	echo "Port Proxy : $PROXY"
	echo ""
	exit

fi

	;;


4) # ==================================================================================================================

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo -e "${GRAY}ปรับเปลี่ยนระบบของเซิฟเวอร์ ${NC} "
echo ""
echo -e "|${GRAY}1${NC}| 1 ไฟล์เชื่อมต่อได้ 1 เครื่องเท่านั้น สามารถสร้างไฟล์เพิ่มได้"
echo -e "|${GRAY}2${NC}| 1 ไฟล์เชื่อมต่อได้หลายเครื่อง แต่ต้องสร้างบัญชีเพื่อใช้เชื่อมต่อ"
echo -e "|${GRAY}3${NC}| 1 ไฟล์เชื่อมต่อได้ไม่จำกัดเครื่อง"
echo ""
read -p "เลือกหัวข้อที่ต้องการใช้งาน : " CHANGESYSTEMSERVER

case $CHANGESYSTEMSERVER in

	1)

sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '20d' /etc/openvpn/client-common.txt
echo "client-to-client" >> /etc/openvpn/server.conf
echo ""
echo "ปรับเปลี่ยนระบบของเซิฟเวอร์เป็นรูปแบบที่ 1 เรียบร้อย"
echo ""
service openvpn restart

	;;

	2)

sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '20d' /etc/openvpn/client-common.txt
if [[ "$VERSION_ID" = 'VERSION_ID="7"' ]]; then
	echo "plugin /usr/lib/openvpn/openvpn-auth-pam.so /etc/pam.d/login" >> /etc/openvpn/server.conf
	echo "client-cert-not-required" >> /etc/openvpn/server.conf
	echo "username-as-common-name" >> /etc/openvpn/server.conf
else
	echo "plugin /usr/lib/openvpn/openvpn-plugin-auth-pam.so /etc/pam.d/login" >> /etc/openvpn/server.conf
	echo "client-cert-not-required" >> /etc/openvpn/server.conf
	echo "username-as-common-name" >> /etc/openvpn/server.conf
fi
echo "auth-user-pass" >> /etc/openvpn/client-common.txt
echo ""
echo "ปรับเปลี่ยนระบบของเซิฟเวอร์เป็นรูปแบบที่ 2 เรียบร้อย"
echo ""
service openvpn restart

	;;

	3)

sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '28d' /etc/openvpn/server.conf
sed -i '20d' /etc/openvpn/client-common.txt
echo "duplicate-cn" >> /etc/openvpn/server.conf
echo ""
echo "ปรับเปลี่ยนระบบของเซิฟเวอร์เป็นรูปแบบที่ 3 เรียบร้อย"
echo ""
service openvpn restart

	;;

esac

	;;

5) # ==================================================================================================================
	
clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo -e "เปิด-ปิด-รีสตาร์ท การทำงานของระบบ ${GRAY}Admin MyGatherBK VPN${NC}"
echo ""
echo -e "|${GRAY}1${NC}| OPENVPN"
echo -e "|${GRAY}2${NC}| SSH DROPBEAR"
echo -e "|${GRAY}3${NC}| SQUID PROXY"
echo ""
read -p "เลือกหัวข้อที่ต้องการใช้งาน : " SERVICE

case $SERVICE in

	1)

	echo ""
	echo -e "	|${GRAY}1${NC}| เปิด"
	echo -e "	|${GRAY}2${NC}| ปิด"
	echo -e "	|${GRAY}3${NC}| รีสตาร์ท"
	echo ""
	read -p "	เลือกหัวข้อที่ต้องการใช้งาน : " SERVICEOPENVPN

	case $SERVICEOPENVPN in

		1)
	service openvpn start
	echo ""
	echo -e "	OpenVPN ${GRAY}STARTED${NC}"
	echo ""
	exit
		;;

		2)
	service openvpn stop
	echo ""
	echo -e "	OpenVPN ${GRAY}STOPPED${NC}"
	echo ""
	exit
		;;

		3)
	service openvpn restart
	echo ""
	echo -e "	OpenVPN ${GRAY}RESTARTED${NC}"
	echo ""
	exit
		;;

	esac

	;;

	2)

	echo ""
	echo -e "	|${GRAY}1${NC}| เปิด"
	echo -e "	|${GRAY}2${NC}| ปิด ${GRAY}หากปิดการทำงานจะไม่สามารถเข้าสู่เทอมินอลได้ ${NC} "
	echo -e "	|${GRAY}3${NC}| รีสตาร์ท"
	echo ""
	read -p "	เลือกหัวข้อที่ต้องการใช้งาน : " SERVICEDROPBEAR

	case $SERVICEDROPBEAR in

		1)

	if [[ -e /etc/default/dropbear ]]; then
		service ssh start
		echo ""
		echo -e "	SSH Dropbear ${GRAY}STARTED${NC}"
		echo ""
		exit
	elif [[ ! -e /etc/default/dropbear ]]; then
		echo ""
		echo "	ยังไม่ได้ติดตั้ง SSH Dropbear"
		echo ""
		exit
	fi
		;;

		2)
	if [[ -e /etc/default/dropbear ]]; then
		service ssh stop
		echo ""
		echo -e "	SSH Dropbear ${GRAY}STOPPED${NC}"
		echo ""
		exit
	elif [[ ! -e /etc/default/dropbear ]]; then
		echo ""
		echo "	ยังไม่ได้ติดตั้ง SSH Dropbear"
		echo ""
		exit
	fi
		;;

		3)
	if [[ -e /etc/default/dropbear ]]; then
		service ssh restart
		echo ""
		echo -e "	SSH Dropbear ${GRAY}RESTARTED${NC}"
		echo ""
		exit
	elif [[ ! -e /etc/default/dropbear ]]; then
		echo ""
		echo "	ยังไม่ได้ติดตั้ง SSH Dropbear"
		echo ""
		exit
	fi
		;;

	esac

	;;

	3)

	echo ""
	echo -e "	|${GRAY}1${NC}| เปิด"
	echo -e "	|${GRAY}2${NC}| ปิด"
	echo -e "	|${GRAY}3${NC}| รีสตาร์ท"
	echo ""
	read -p "	เลือกหัวข้อที่ต้องการใช้งาน : " SERVICEPROXY

	case $SERVICEPROXY in

		1)
	if [[ "$VERSION_ID" = 'VERSION_ID="9"' || "$VERSION_ID" = 'VERSION_ID="16.04"' || "$VERSION_ID" = 'VERSION_ID="18.04"' ]]; then
		if [[ ! -e /etc/squid/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid start
			echo ""
			echo -e "	Squid Proxy ${GRAY}STARTED${NC}"
			echo ""
			exit
		fi
	elif [[ "$VERSION_ID" = 'VERSION_ID="7"' || "$VERSION_ID" = 'VERSION_ID="8"' || "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
		if [[ ! -e /etc/squid3/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid3 start
			echo ""
			echo -e "	Squid Proxy ${GRAY}STARTED${NC}"
			echo ""
			exit
		fi
	fi
		;;

		2)
	if [[ "$VERSION_ID" = 'VERSION_ID="9"' || "$VERSION_ID" = 'VERSION_ID="16.04"' || "$VERSION_ID" = 'VERSION_ID="18.04"' ]]; then
		if [[ ! -e /etc/squid/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid stop
			echo ""
			echo -e "	Squid Proxy ${GRAY}STOPPED${NC}"
			echo ""
			exit
		fi
	elif [[ "$VERSION_ID" = 'VERSION_ID="7"' || "$VERSION_ID" = 'VERSION_ID="8"' || "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
		if [[ ! -e /etc/squid3/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid3 stop
			echo ""
			echo -e "	Squid Proxy ${GRAY}STOPPED${NC}"
			echo ""
			exit
		fi
	fi
		;;

		3)
	if [[ "$VERSION_ID" = 'VERSION_ID="9"' || "$VERSION_ID" = 'VERSION_ID="16.04"' || "$VERSION_ID" = 'VERSION_ID="18.04"' ]]; then
		if [[ ! -e /etc/squid/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid restart
			echo ""
			echo -e "	Squid Proxy ${GRAY}RESTARTED${NC}"
			echo ""
			exit
		fi
	elif [[ "$VERSION_ID" = 'VERSION_ID="7"' || "$VERSION_ID" = 'VERSION_ID="8"' || "$VERSION_ID" = 'VERSION_ID="14.04"' ]]; then
		if [[ ! -e /etc/squid3/squid.conf ]]; then
			echo ""
			echo "	ยังไม่ได้ติดตั้ง Squid Proxy"
			echo ""
			exit
		else
			service squid3 restart
			echo ""
			echo -e "	Squid Proxy ${GRAY}RESTARTED${NC}"
			echo ""
			exit
		fi
	fi
		;;

	esac

	;;

esac

	;;
	
6) # ==================================================================================================================

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo "ลำดับ   ชื่อบัญชีผู้ใช้        สถานะ      วันหมดอายุ"
echo ""
C=1
ON=0
OFF=0
while read ONOFF
do
	CLIENTOFFLINE=$(echo -e "${GRAY}OFFLINE${NC}")
	CLIENTONLINE=$(echo -e "${GREEN}ONLINE${NC}")
	ACCOUNT="$(echo $ONOFF | cut -d: -f1)"
	ID="$(echo $ONOFF | grep -v nobody | cut -d: -f3)"
	EXP="$(chage -l $ACCOUNT | grep "Account expires" | awk -F": " '{print $2}')"
	ONLINE="$(cat /etc/openvpn/openvpn-status.log | grep -Eom 1 $ACCOUNT | grep -Eom 1 $ACCOUNT)"
	if [[ $ID -ge 1000 ]]; then
		if [[ -z $ONLINE ]]; then
			printf "%-6s %-15s %-20s %-3s\n" "$C" "$ACCOUNT" "$CLIENTOFFLINE" "$EXP"
			OFF=$((OFF+1))
		else
			printf "%-6s %-15s %-20s %-3s\n" "$C" "$ACCOUNT" "$CLIENTONLINE" "$EXP"
			ON=$((ON+1))
		fi
			C=$((C+1))
        fi
done < /etc/passwd
TOTAL="$(awk -F: '$3 >= '1000' && $1 != "nobody" {print $1}' /etc/passwd | wc -l)"
echo ""
echo ""
echo -e "กำลังเชื่อมต่อ ${GREEN}$ON${NC}  |  ไม่ได้เชื่อมต่อ ${GRAY}$OFF${NC}  |  บัญชีทั้งหมด $TOTAL"
echo ""
exit

	;;

7) # ==================================================================================================================

echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
read -p "ชื่อบัญชีที่ต้องการลบ : " CLIENT
egrep "^$CLIENT" /etc/passwd >/dev/null

if [ $? -eq 0 ]; then
	if [[ $CHECKSYSTEM ]]; then
		echo ""
		userdel -f $CLIENT
		echo ""
		echo -e "ชื่อบัญชี ${GRAY}$CLIENT${NC} ถูกลบออกจากระบบเรียบร้อยแล้ว"
		echo ""
		exit
	else
		echo ""
		userdel -f $CLIENT
		cd /etc/openvpn/easy-rsa/
		./easyrsa --batch revoke $CLIENT
		EASYRSA_CRL_DAYS=3650 ./easyrsa gen-crl
		rm -rf pki/reqs/$CLIENT.req
		rm -rf pki/private/$CLIENT.key
		rm -rf pki/issued/$CLIENT.crt
		rm -rf /etc/openvpn/crl.pem
		cp /etc/openvpn/easy-rsa/pki/crl.pem /etc/openvpn/crl.pem
		chown nobody:$GROUPNAME /etc/openvpn/crl.pem
		echo ""
		echo -e "ชื่อบัญชี ${GRAY}$CLIENT${NC} ถูกลบออกจากระบบเรียบร้อยแล้ว"
		echo ""
		exit
	fi
else
	echo ""
	echo "ไม่มีชื่อบัญชีที่ระบุ"
	echo ""
	exit
fi

	;;
8) # ==================================================================================================================

echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
			NUMBEROFCLIENTS=$(tail -n +2 /etc/openvpn/easy-rsa/pki/index.txt | grep -c "^V")
			if [[ "$NUMBEROFCLIENTS" = '0' ]]; then
				echo
				echo "You have no existing clients!"
				exit
			fi
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
			echo "เลือก Config ที่มีอยู่ที่คุณต้องการเพิกถอน:"
			tail -n +2 /etc/openvpn/easy-rsa/pki/index.txt | grep "^V" | cut -d '=' -f 2 | nl -s ') '
			if [[ "$NUMBEROFCLIENTS" = '1' ]]; then
				read -p "เลือก Config [1]: " CLIENTNUMBER
			else
				read -p "เลือก Config [1-$NUMBEROFCLIENTS]: " CLIENTNUMBER
			fi
			CLIENT=$(tail -n +2 /etc/openvpn/easy-rsa/pki/index.txt | grep "^V" | cut -d '=' -f 2 | sed -n "$CLIENTNUMBER"p)
			echo
			read -p "คุณต้องการยกเลิกสิทธิ์การเข้าถึง Config จริงๆหรือไม่$CLIENT? [y/N]: " -e REVOKE
			if [[ "$REVOKE" = 'y' || "$REVOKE" = 'Y' ]]; then
				cd /etc/openvpn/easy-rsa/
				./easyrsa --batch revoke $CLIENT
				EASYRSA_CRL_DAYS=3650 ./easyrsa gen-crl
				rm -f pki/reqs/$CLIENT.req
				rm -f pki/private/$CLIENT.key
				rm -f pki/issued/$CLIENT.crt
				rm -f /etc/openvpn/crl.pem
				cp /etc/openvpn/easy-rsa/pki/crl.pem /etc/openvpn/crl.pem
				# CRL is read with each client connection, when OpenVPN is dropped to nobody
				chown nobody:$GROUPNAME /etc/openvpn/crl.pem
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
clear
echo
chek=$(cat /etc/issue)
exit
echo -e "                       ${GRAY} OS system:${GREEN} $chek ${NC}"
echo -e "                       ${GRAY}ไอพีเซิฟ:${GREEN} $IP ${NC}"
echo ""
				echo "Certificate สำหรับ Config $CLIENT เพิกถอน!"
			else
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
				echo "Certificate การเพิกถอน Config $CLIENT ยกเลิก!"
			fi
			exit
			;;
9) # ==================================================================================================================
#!/bin/bash
clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo "             === WELLCOM === "
echo " ======================================"
echo "    กำหนดรหัสผ่านสำหรับล็อกอินด้วยชื่อ root  "
echo " ====================================="
passwd
cat > /etc/ssh/sshd_config <<-END
Port 22
Port 143
Port 80
Protocol 2
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_dsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key
UsePrivilegeSeparation yes
KeyRegenerationInterval 3600
ServerKeyBits 768
SyslogFacility AUTH
LogLevel INFO
LoginGraceTime 120
PermitRootLogin yes
StrictModes yes
RSAAuthentication yes
PubkeyAuthentication yes
IgnoreRhosts yes
RhostsRSAAuthentication no
HostbasedAuthentication no
PermitEmptyPasswords no
ChallengeResponseAuthentication no
X11Forwarding yes
X11DisplayOffset 10
PrintMotd no
PrintLastLog yes
TCPKeepAlive yes
Subsystem sftp /usr/lib/openssh/sftp-server
UsePAM yes
ClientAliveInterval 120
ClientAliveCountMax 2
END
service ssh restart
exit
;;

10) # ==================================================================================================================
 
  if [ ! -e /usr/local/bin/Reboot-Server ]; then
	echo '#!/bin/bash' > /usr/local/bin/Reboot-Server
	echo '' >> /usr/local/bin/Reboot-Server
	echo 'DATE=$(date +"%m-%d-%Y")' >> /usr/local/bin/Reboot-Server
	echo 'TIME=$(date +"%T")' >> /usr/local/bin/Reboot-Server
	echo 'echo "รีบูทเมื่อวันที่ $DATE เวลา $TIME" >> /usr/local/bin/Reboot-Log' >> /usr/local/bin/Reboot-Server
	echo '/sbin/shutdown -r now' >> /usr/local/bin/Reboot-Server
	chmod +x /usr/local/bin/Reboot-Server
fi

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo -e "${GRAY}ตั้งค่าเวลารีบูทเซิฟเวอร์อัตโนมัติ ${NC} "
echo ""
echo -e "|${GRAY}1${NC}| รีบูททุกๆ  1 ชั่วโมง"
echo -e "|${GRAY}2${NC}| รีบูททุกๆ  6 ชั่วโมง"
echo -e "|${GRAY}3${NC}| รีบูททุกๆ 12 ชั่วโมง"
echo -e "|${GRAY}4${NC}| รีบูททุกๆ  1 วัน"
echo -e "|${GRAY}5${NC}| รีบูททุกๆ  7 วัน"
echo -e "|${GRAY}6${NC}| รีบูททุกๆ 30 วัน"
echo -e "|${GRAY}7${NC}| หยุดการรีบูทเซิฟเวอร์"
echo -e "|${GRAY}8${NC}| ตรวจสอบดูบันทึกการรีบูทเซิฟเวอร์"
echo -e "|${GRAY}9${NC}| ลบบันทึกการรีบูทเซิฟเวอร์"
echo ""
read -p "เลือกหัวข้อที่ต้องการใช้งาน : " REBOOT

case $REBOOT in

	1)

echo "0 * * * * root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 1 ชั่วโมงเรียบร้อยแล้ว"
echo ""
exit

	;;

	2)

echo "0 */6 * * * root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 6 ชั่วโมงเรียบร้อยแล้ว"
echo ""
exit

	;;

	3)

echo "0 */12 * * * root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 12 ชั่วโมงเรียบร้อยแล้ว"
echo ""
exit

	;;

	4)

echo "0 0 * * * root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 1 วันเรียบร้อยแล้ว"
echo ""
exit

	;;

	5)

echo "0 0 * * MON root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 7 วันเรียบร้อยแล้ว"
echo ""
exit

	;;

	6)

echo "0 0 1 * * root /usr/local/bin/Reboot-Server" > /etc/cron.d/Reboot-Server
echo ""
echo "ตั้งค่ารีบูทเซิฟเวอร์ทุกๆ 30 วันเรียบร้อยแล้ว"
echo ""
exit

	;;

	7)

rm -rf /usr/local/bin/Reboot-Server
echo ""
echo "หยุดการรีบูทเซิฟเวอร์เรียบร้อยแล้ว"
echo ""
exit

	;;

	8)

if [[ ! -e /usr/local/bin/Reboot-Log ]]; then
	echo ""
	echo "ไม่มีบันทึกการรีบูทเซิฟเวอร์"
	echo ""
	exit
else
	echo ""
	cat /usr/local/bin/Reboot-Log
	echo ""
	exit
fi

	;;

	9)

rm -rf /usr/local/bin/Reboot-Log
echo ""
echo "ลบบันทึกการรีบูทเซิฟเวอร์เรียบร้อยแล้ว"
echo ""
exit

	;;

esac

	;;
	
11) # ==================================================================================================================

if [[ ! -e /usr/local/bin/Banwidth-Per-Client ]]; then
	apt-get install python
	wget -O /usr/local/bin/Banwidth-Per-Client "https://raw.githubusercontent.com/MyGatherBk/PURE/master/Banwidth-Per-Client"
	chmod +x /usr/local/bin/Banwidth-Per-Client
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo ""
	Banwidth-Per-Client
	echo ""
else
	clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	Banwidth-Per-Client
	echo ""
fi

	;;
	
12) # ==================================================================================================================

echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	read -p "ชื่อบัญชีที่ต้องการเปลี่ยนรหัสผ่าน : " CLIENTNAME
	egrep "^$CLIENTNAME" /etc/passwd >/dev/null

	if [ $? -eq 0 ]; then
		echo ""
		read -p "รหัสผ่านที่ต้องการปลี่ยน : " NEWPASSWORD
		read -p "ยืนยันรหัสผ่านอีกครั้ง : " RETYPEPASSWORD

		if [[ $NEWPASSWORD = $RETYPEPASSWORD ]]; then
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
			echo "ระบบได้ทำการเปลี่ยนรหัสผ่านเรียบร้อยแล้ว"
			echo ""
			echo "ชื่อบัญชีผู้ใข้ : $CLIENTNAME"
			echo "รหัสผ่านใหม่ : $NEWPASSWORD"
			echo ""
			exit
		else
			echo ""
			echo "เปลี่ยนรหัสผ่านไม่สำเร็จ การยืนยันรหัสผ่านไม่สอดคล้อง"
			echo ""
			exit
		fi
	else

echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
		echo "ไม่มีชื่อบัญชีที่ระบุอยู่ในระบบ"
		echo ""
		read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

		if [[ "$TOMENU" = 'Y' ]]; then
			menu
			exit
		elif [[ "$TOMENU" = 'N' ]]; then
			exit
		fi
	fi

	;;
	
13) # ==================================================================================================================

echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
read -p "ชื่อบัญชีที่ต้องการเปลี่ยนวันหมดอายุ : " -e CLIENT

if [ $? -eq 0 ]; then
	EXP="$(chage -l $CLIENT | grep "Account expires" | awk -F": " '{print $2}')"
	echo ""
	echo -e "ชื่อบัญชีนี้หมดอายุในวันที่ ${GRAY}$EXP${NC}"
	echo ""
	read -p "เปลี่ยนวันหมดอายุ : " -e TimeActive
	userdel $CLIENT
	useradd -e `date -d "$TimeActive days" +"%Y-%m-%d"` -s /bin/false -M $CLIENT
	EXP="$(chage -l $CLIENT | grep "Account expires" | awk -F": " '{print $2}')"
	echo -e "$CLIENT\n$CLIENT\n"|passwd $CLIENT &> /dev/null
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo "ชื่อบัญชี : $CLIENT"
	echo "หมดวันหมดในวันที่ : $EXP"
	echo ""
	exit

else

	echo ""
	echo "ไม่มีชื่อบัญชีที่ระบุอยู่ในระบบ"
	echo ""
	read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

	if [[ "$TOMENU" = 'Y' ]]; then
		menu
		exit
	elif [[ "$TOMENU" = 'N' ]]; then
		exit
	fi
fi

	;;
14) # ==================================================================================================================

INTERFACE=`ifconfig | head -n1 | awk '{print $1}' | cut -d ':' -f 1`
TODAY=$(vnstat -i $INTERFACE | grep "today" | awk '{print $8" "substr ($9, 1, 1)}')
YESTERDAY=$(vnstat -i $INTERFACE | grep "yesterday" | awk '{print $8" "substr ($9, 1, 1)}')
WEEK=$(vnstat -i $INTERFACE -w | grep "current week" | awk '{print $9" "substr ($10, 1, 1)}')
RXWEEK=$(vnstat -i $INTERFACE -w | grep "current week" | awk '{print $3" "substr ($10, 1, 1)}')
TXWEEK=$(vnstat -i $INTERFACE -w | grep "current week" | awk '{print $6" "substr ($10, 1, 1)}')
MOUNT=$(vnstat -i $INTERFACE | grep "`date +"%b '%y"`" | awk '{print $9" "substr ($10, 1, 1)}')
RXMOUNT=$(vnstat -i $INTERFACE | grep "`date +"%b '%y"`" | awk '{print $3" "substr ($10, 1, 1)}')
TXMOUNT=$(vnstat -i $INTERFACE | grep "`date +"%b '%y"`" | awk '{print $6" "substr ($10, 1, 1)}')
TOTAL=$(vnstat -i $INTERFACE | grep "total:" | awk '{print $8" "substr ($9, 1, 1)}')
RXTOTAL=$(vnstat -i $INTERFACE | grep "rx:" | awk '{print $2" "substr ($9, 1, 1)}')
TXTOTAL=$(vnstat -i $INTERFACE | grep "tx:" | awk '{print $5" "substr ($9, 1, 1)}')

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
	echo -e "แบนด์วิดท์ ${GRAY}MyGatherBK-VPN${NC}"
	echo ""
	echo -e "วันนี้ ${GRAY}$TODAY${NC}"
	echo -e "เมื่อวานนี้ ${GRAY}$YESTERDAY${NC}"
	echo ""
	echo -e "รับข้อมูล (rx) ${GRAY}$RXWEEK${NC} ส่งข้อมูล (tx) ${GRAY}$TXWEEK${NC}"
	echo -e "สัปดาห์นี้ ${GRAY}$WEEK${NC}"
	echo ""
	echo -e "รับข้อมูล (rx) ${GRAY}$RXMOUNT${NC} ส่งข้อมูล (tx) ${GRAY}$TXMOUNT${NC}"
	echo -e "รวมทั้งหมดเฉพาะเดือนนี้ ${GRAY}$MOUNT${NC}"
	echo ""
	echo -e "รับข้อมูล (rx) ${GRAY}$RXTOTAL${NC} ส่งข้อมูล (tx) ${GRAY}$TXTOTAL${NC}"
	echo -e "รวมทั้งหมด ${GRAY}$TOTAL${NC}"
	echo ""
	exit

	;;
	
	15) # ==================================================================================================================

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo -e "${GRAY}ปรับความเร็วอินเตอร์เน็ต ${NC} "
echo ""
echo -e "|${GRAY}1${NC}| เปิดใช้งานการปรับแต่งความเร็วอินเทอร์เน็ต"
echo -e "|${GRAY}2${NC}| ปิดใช้งานการปรับแต่งความเร็วอินเทอร์เน็ต"
echo ""
read -p "เลือกหัวข้อที่ต้องการใช้งาน : " LIMITINTERNET

case $LIMITINTERNET in

	1)

echo ""
echo -e "|${GRAY}1${NC}| Megabyte (Mbps)"
echo -e "|${GRAY}2${NC}| Kilobyte (Kbps)"
echo ""
read -p "กรุณาเลือกหน่วยวัดความเร็วอินเทอร์เน็ต : " -e PERSECOND
case $PERSECOND in
	1)
	PERSECOND=mbit
	;;
	2)
	PERSECOND=kbit
	;;
esac

echo ""
echo ""
echo -e "วิธีการใส่ : เช่นต้องการให้มีความเร็ว 10Mbps ให้ใส่เลข ${GRAY}10${NC}"
echo -e "         หากต้องการให้มีความเร็ว 512Kbps ให้ใส่เลข ${GRAY}512${NC}"
echo ""
read -p "ใส่จำนวนความเร็วการดาวน์โหลด : " -e CHDL
read -p "ใส่จำนวนความเร็วการอัพโหลด : " -e CHUL

DNLD=$CHDL$PERSECOND
UPLD=$CHUL$PERSECOND

TC=/sbin/tc

IF="$(ip ro | awk '$1 == "default" { print $5 }')"
IP="$(ip -o ro get $(ip ro | awk '$1 == "default" { print $3 }') | awk '{print $5}')/32"     # Host IP

U32="$TC filter add dev $IF protocol ip parent 1: prio 1 u32"

    $TC qdisc add dev $IF root handle 1: htb default 30
    $TC class add dev $IF parent 1: classid 1:1 htb rate $DNLD
    $TC class add dev $IF parent 1: classid 1:2 htb rate $UPLD
    $U32 match ip dst $IP flowid 1:1
    $U32 match ip src $IP flowid 1:2
    echo ""
    echo -e "ความเร็วดาวน์โหลด ${GRAY}$CHDL $PERSECOND${NC}"
    echo -e "ความเร็วอัพโหลด ${GRAY}$CHUL $PERSECOND${NC}"
    echo ""
    echo "เปิดใช้งานการปรับแต่งความเร็วอินเทอร์เน็ต"
    echo ""
    exit

	;;

	2)

TC=/sbin/tc
IF="$(ip ro | awk '$1 == "default" { print $5 }')"

    $TC qdisc del dev $IF root
    echo ""
    echo "ปิดใช้งานการปรับแต่งความเร็วอินเทอร์เน็ต"
    echo ""
    exit

	;;

esac

	;;
	
	16) # ==================================================================================================================

if [[ ! $CHECKSYSTEM ]]; then
	echo ""
	echo "ใช้งานไม่ได้กับเซิฟเวอร์ระบบปัจจุบัน"
	echo ""
	exit
fi

clear
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
echo -e "${GRAY}แบนและปลดแบนบัญชีผู้ใช้ ${NC} "
echo ""
echo -e "|${GRAY}1${NC}| แบนบัญชีผู้ใช้"
echo -e "|${GRAY}2${NC}| ปลดแบนบัญชีผู้ใช้"
echo ""
read -p "เลือกหัวข้อที่ต้องการใช้งาน : " BandUB

case $BandUB in

	1)

echo ""
read -p "ชื่อบัญชีที่ต้องการแบน : " CLIENT

egrep "^$CLIENT" /etc/passwd >/dev/null
if [ $? -eq 0 ]; then
	echo "V=$CLIENT" >> /usr/local/bin/Ban-Unban
	passwd -l $CLIENT
	clear
	echo ""
	echo "บัญชีชื่อ $CLIENT ได้ถูกแบนเรียบร้อยแล้ว"
	echo ""
	exit
elif [ $? -eq 1 ]; then
	clear
	echo ""
	echo "ไม่มีชื่อบัญชีที่ระบุอยู่ในระบบ"
	echo ""
	read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

	if [[ "$TOMENU" = 'Y' ]]; then
		menu
		exit
	elif [[ "$TOMENU" = 'N' ]]; then
		exit
	fi
fi

	;;

	2)

echo ""
read -p "ชื่อบัญชีที่ต้องการปลดแบน : " CLIENT

egrep "^$CLIENT" /etc/passwd >/dev/null
if [ $? -eq 0 ]; then
	sed -i 's/V=$CLIENT/R=$CLIENT/g' /usr/local/bin/Ban-Unban
	passwd -u $CLIENT
	clear
	echo ""
	echo "บัญชีชื่อ $CLIENT ได้ถูกปลดแบนเรียบร้อยแล้ว"
	echo ""
	exit

elif [ $? -eq 1 ]; then
	clear
	echo ""
	echo "ชื่อบัญชีที่ระบุไม่ได้ถูกแบน หรือไม่มีชื่อบัญชีที่ระบุอยู่ในระบบ"
	echo ""
	read -p "กลับไปที่เมนู (Y or N) : " -e -i Y TOMENU

	if [[ "$TOMENU" = 'Y' ]]; then
		menu
		exit
	elif [[ "$TOMENU" = 'N' ]]; then
		exit
	fi
fi

	;;

esac

	;;

	
17) # ==================================================================================================================
echo ""
echo ""
echo "           =============== OS-32 & 64-bit =================    "
echo "           #                                              #    "
echo "           #       AUTOSCRIPT CREATED BY PIRAKIT          #    "
echo "           #      -----------About Us------------         #    "
echo "           #      OS  DEBIAN 7-8-9  OS  UBUNTU 14-16-18   #    "
echo "           #    Truemoney Wallet : 096-746-2978           #    "
echo "           #               { VPN / SSH }                  #    "
echo "           #         BY : Pirakit Khawpleum               #    "
echo "           #    FB : https://m.me/pirakrit.khawplum       #    "
echo "           #                                              #    "
echo "           =============== OS-32 & 64-bit =================    "
echo "           ไอพีเซิฟ: $IP "
echo ""
echo ""
if [[ -e /etc/openvpn/server.conf ]]; then
	while :
	do
	clear
		echo "Looks like OpenVPN is already installed."
		echo
		echo "What do you want to do?"
		echo "   1) Remove OpenVPN"
		echo "   2) Exit"
		read -p "Select an option [1-2]: " option
		case $option in
                     echo
			read -p "Do you really want to remove OpenVPN? [y/N]: " -e REMOVE
			if [[ "$REMOVE" = 'y' || "$REMOVE" = 'Y' ]]; then
				PORT=$(grep '^port ' /etc/openvpn/server.conf | cut -d " " -f 2)
				PROTOCOL=$(grep '^proto ' /etc/openvpn/server.conf | cut -d " " -f 2)
				if pgrep firewalld; then
					IP=$(firewall-cmd --direct --get-rules ipv4 nat POSTROUTING | grep '\-s 10.8.0.0/24 '"'"'!'"'"' -d 10.8.0.0/24 -j SNAT --to ' | cut -d " " -f 10)
					# Using both permanent and not permanent rules to avoid a firewalld reload.
					firewall-cmd --zone=public --remove-port=$PORT/$PROTOCOL
					firewall-cmd --zone=trusted --remove-source=10.8.0.0/24
					firewall-cmd --permanent --zone=public --remove-port=$PORT/$PROTOCOL
					firewall-cmd --permanent --zone=trusted --remove-source=10.8.0.0/24
					firewall-cmd --direct --remove-rule ipv4 nat POSTROUTING 0 -s 10.8.0.0/24 ! -d 10.8.0.0/24 -j SNAT --to $IP
					firewall-cmd --permanent --direct --remove-rule ipv4 nat POSTROUTING 0 -s 10.8.0.0/24 ! -d 10.8.0.0/24 -j SNAT --to $IP
				else
					IP=$(grep 'iptables -t nat -A POSTROUTING -s 10.8.0.0/24 ! -d 10.8.0.0/24 -j SNAT --to ' $RCLOCAL | cut -d " " -f 14)
					iptables -t nat -D POSTROUTING -s 10.8.0.0/24 ! -d 10.8.0.0/24 -j SNAT --to $IP
					sed -i '/iptables -t nat -A POSTROUTING -s 10.8.0.0\/24 ! -d 10.8.0.0\/24 -j SNAT --to /d' $RCLOCAL
					if iptables -L -n | grep -qE '^ACCEPT'; then
						iptables -D INPUT -p $PROTOCOL --dport $PORT -j ACCEPT
						iptables -D FORWARD -s 10.8.0.0/24 -j ACCEPT
						iptables -D FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT
						sed -i "/iptables -I INPUT -p $PROTOCOL --dport $PORT -j ACCEPT/d" $RCLOCAL
						sed -i "/iptables -I FORWARD -s 10.8.0.0\/24 -j ACCEPT/d" $RCLOCAL
						sed -i "/iptables -I FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT/d" $RCLOCAL
					fi
				fi
				if sestatus 2>/dev/null | grep "Current mode" | grep -q "enforcing" && [[ "$PORT" != '1194' ]]; then
					semanage port -d -t openvpn_port_t -p $PROTOCOL $PORT
				fi
				if [[ "$OS" = 'debian' ]]; then
					apt-get remove --purge -y openvpn
				else
					yum remove openvpn -y
				fi
				rm -rf /etc/openvpn
				rm -f /etc/sysctl.d/30-openvpn-forward.conf
				echo
				echo "OpenVPN removed!"
			else
				echo
				echo "Removal aborted!"
			fi
			exit
			;;
			4) exit;;
0) # ==================================================================================================================

rm -rf openvpn-install.sh
wget https://raw.githubusercontent.com/MyGatherBk/MyAuto/master/openvpn-install.sh
chmod +x openvpn-install.sh
./openvpn-install.sh

	;;

esac
